<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Навігатор знань</title>
  <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css'>
<link rel='stylesheet' href='https://unicons.iconscout.com/release/v3.0.6/css/line.css'><link rel="stylesheet" href="{{ url_for('static', path='style.css') }}">

</head>
<body>
<aside class="sidebar position-fixed top-0 left-0 overflow-auto h-100 float-left" id="show-side-navigation1">
  <i class="uil-bars close-aside d-md-none d-lg-none" data-close="show-side-navigation1"></i>
  <div class="sidebar-header d-flex justify-content-center align-items-center px-3 py-4">
    <img
         class="rounded-pill img-fluid"
         width="65"
         src="https://uniim1.shutterfly.com/ng/services/mediarender/THISLIFE/021036514417/media/23148907008/medium/1501685726/enhance"
         alt="">
    <div class="ms-2">
      <h5 class="fs-6 mb-0">
        <a class="text-decoration-none" href="#">Боб Бобович</a>
      </h5>
      <p class="mt-1 mb-0">Курсант С-00 125 спецільність </p>
    </div>
  </div>

  <ul class="categories list-unstyled">
    <li>
      <a href="/">ГОЛОВНА</a>
    </li>
    <li>
      <a href="/tests">ТЕСТИ</a>
    </li>
    <li class="active">
      <a href="/raitings">ЖУРНАЛ</a>
    </li>
</aside>

<section id="wrapper">
  <nav class="navbar navbar-expand-md">
    <div class="container-fluid mx-2">
      <div class="navbar-header">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#toggle-navbar" aria-controls="toggle-navbar" aria-expanded="false" aria-label="Toggle navigation">
          <i class="uil-bars text-white"></i>
        </button>
        <a class="navbar-brand" href="#">Навігатор<span class="main-color"> знань</span></a>
      </div>
      <div class="collapse navbar-collapse" id="toggle-navbar">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="#"><i class="uil-comments-alt"></i><span>5</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"><i class="uil-bell"></i><span>5</span></a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="p-4">
    <div class="welcome">
      <div class="content rounded-3 p-3">
        <table>
          <thead>
            <tr>
              <th>Mark</th>
              <th>Subject Name</th>
              <th>User ID</th>
              <th>ID</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody id="table-body">
          </tbody>
        </table>
      </div>
    </div>

<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.bundle.js'></script>
<script src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.jshttps://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js'></script><script  src="{{url_for('js', path='script.js')}}"></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
  fetch('https://localhost:8000/exam/my', {
    method: 'GET'
  })
  .then(response => {
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    return response.json();
  })
  .then(data => {
    const tableBody = document.getElementById('table-body');
    data.forEach(row => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td contenteditable="true" data-field="mark">${row.mark}</td>
        <td contenteditable="true" data-field="subject_name">${row.subject_name}</td>
        <td contenteditable="true" data-field="user_id">${row.user_id}</td>
        <td contenteditable="true" data-field="teacher_id">${row.teacher_id}</td>
        <td contenteditable="true" data-field="teacher_name">${row.teacher_name}</td>
        <td contenteditable="true" data-field="id">${row.id}</td>
        <td contenteditable="true" data-field="date">${row.date}</td>
      `;
      tableBody.appendChild(tr);
    });})})
</script>

</body>
</html>
